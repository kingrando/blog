{{ define "main" }}

  <section id="posts">
    <!-- TODO: use built in mainSections parameter https://gohugo.io/functions/where/#mainsections -->
    <span class="h1"><a href="{{ .Site.Params.notesSection | absURL }}">Posts</a></span>
    
    {{ $dataFormat := .Site.Params.dateFormat | default "2006-01-02" }}

    <ul class="post-list">
      {{ $pages:= where site.RegularPages "Section" "posts" }}
      {{ range first "10" $pages }}
        <li class="post-item">
          <div class="meta"><time datetime="{{ time .Date }}" itemprop="datePublished">{{ .Date.Format $dataFormat }}</time></div>
          <span><a href="{{ .Permalink }}">{{ if .Title }} {{- .Title -}} {{ else }} {{- print "Untitled" -}}{{ end }}</a></span>
        </li>
      {{ end }}
    </ul>
  </section>

  <section id="notes">
    <!-- TODO: use built in mainSections parameter https://gohugo.io/functions/where/#mainsections -->
    <span class="h1"><a href="{{ .Site.Params.notesSection | absURL }}">Notes</a></span>
    
    {{ $dataFormat := .Site.Params.dateFormat | default "2006-01-02" }}

    <ul class="post-list">
      {{ $pages:= where site.RegularPages "Section" "notes" }}
      {{ range first "10" $pages }}
        <li class="post-item">
          <div class="meta"><time datetime="{{ time .Date }}" itemprop="datePublished">{{ .Date.Format $dataFormat }}</time></div>
          <span><a href="{{ .Permalink }}">{{ if .Title }} {{- .Title -}} {{ else }} {{- print "Untitled" -}}{{ end }}</a></span>
        </li>
      {{ end }}
    </ul>
  </section>
{{ end }}
